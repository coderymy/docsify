# 线性排序
桶排序、计数排序、基数排序。因为这些排序算法的时间复杂度是线性的，所以我们把这类排序算法叫作线性排序

# 桶排序

核心思想是将要排序的数据分到几个有序的桶里，每个桶里的数据再单独进行排序。桶内排完序之后，再把每个桶里的数据按照顺序依次取出，组成的序列就是有序的了。

![](https://static001.geekbang.org/resource/image/98/ae/987564607b864255f81686829503abae.jpg?wh=1142*705)

时间复杂度是o(n),但是如果分配的不均匀,全部放在一个桶中,时间复杂度就变成了o(nlogn)(桶内使用快排)

而且要求排序的桶之间能够有明确的大小划分.比如将100万条数据进行年龄排序,这个时候就可以分年龄段定义桶.桶内实现快排

# 计数排序

即桶排序的基础上,每个桶内不需要再进行排序.比如高考900分满分,排名,分901个桶,从0-901依次存放.这个时候在任何一个桶中分数都是一样的,考生的排名其实也是一样的

# 基数排序

比如进行手机号排序,我们知道假如两个数字“190xxxxxxxx”和“189xxxxxxxx”,那么由于第一个数字的第二位是9比8大,所以第一个数字肯定大些

针对这种情况,也就是基数排序就是先比较最后一个数字进行排序,排序完成之后再比较倒数第二位进行排序.一直到第一位进行排序.这种排序结果下来,由于最前面的排序是在最后操作的,所以最终能得到一个有序的集合

![](https://static001.geekbang.org/resource/image/df/0c/df0cdbb73bd19a2d69a52c54d8b9fc0c.jpg?wh=1142*511)



# 排序算法的选择以及最优解

![](https://static001.geekbang.org/resource/image/1f/fd/1f6ef7e0a5365d6e9d68f0ccc71755fd.jpg)

如何选取一个通用的排序算法呢

首先线性排序是针对特殊场景才能使用的,其次简单的排序算法(冒泡、插入、选择)时间复杂度相对于O(n^2),而快排和归并稍好些,但是归并空间消耗较高,所以我们使用最多的就是快排(Java中使用堆排序,C使用快排)

但是快排最坏情况的时间复杂度是O(n^2)如何解决呢?

## 优化快排效率

首先最坏情况出现是分区点选择不合理,每次都选择当前分区的最后一个数据.那么最理想的就是分区点选出来之后,分开的两部分数据量差不多

所以为了优化快排,这里就引入了分区选择算法

1. 三数取中法(数据量很高的时候,相对于第二种会稍微好些)
   我们从区间的首、尾、中间，分别取出一个数，然后对比大小，取这 3 个数的中间值作为分区点。
2. 随机法
   随机获取

## 优化快排的堆栈溢出

因为快排的思想是使用递归的方式,递归就会带来堆栈溢出的可能

所以为了防止堆栈溢出,可以使用以下两点来保证
1. 设置最深递归深度.即到达最深递归深度就不允许再进行递归操作
2. 通过在堆上模拟实现一个函数调用栈，手动模拟递归压栈、出栈的过程，这样就没有了系统栈大小的限制.
   TODO,如何实现?

一般来说,最优的排序算法并不存在,还是需要深入业务情况来判断什么样的排序算法才是最合适的.而且每种排序算法又有自己的优化空间以及相应的风险点,所以开发的时候还是要深入理解这种排序的原理与规则才能更好的选择排序算法以及规避风险点.这也是学习数据结构与算法的根本.

感谢极客时间的《数据结构与算法之美》